{"ast":null,"code":"var _jsxFileName = \"/Users/anujjha/Desktop/React/ReactJs/MoviesApp/src/component/MovieList.js\";\nimport { Component } from \"react\"; // import {movies} from \"../movieData\";\n\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nclass MovieList extends Component {\n  constructor() {\n    super();\n\n    this.changeMovies = async () => {\n      const res = await axios.get(`https://api.themoviedb.org/3/movie/popular?api_key=81242a2aa2066e052c78ec9ac1700c59&language=en-US&page=${this.state.currPage}`);\n      console.log(res.data);\n      this.setState({\n        movies: [...res.data.results]\n      });\n    };\n\n    this.handleNext = () => {\n      if (this.state.currPage == this.state.pArr.length) {\n        this.setState({\n          pArr: [...this.state.pArr, this.state.pArr.length + 1],\n          currPage: this.state.currPage + 1\n        }, this.changeMovies);\n      }\n    };\n\n    this.handlePrevious = () => {\n      if (this.state.currPage != 1) {\n        //edgecase when currpage=1 not able to do previous calls\n        this.setState({\n          currPage: this.state.currPage - 1\n        }, this.changeMovies);\n      }\n    };\n\n    this.handlePageClick = ele => {\n      if (ele != this.state.currPage) {\n        this.setState({\n          currPage: ele\n        }, this.changeMovies);\n      }\n    };\n\n    this.handleFavourites = movieObj => {\n      let oldData = JSON.parse(localStorage.getItem('movies-app') || '[]');\n\n      if (this.state.favourites.includes(movieObj.id)) {\n        oldData = oldData.filter(movie => movie.id != movieObj.id);\n      } else {\n        oldData.push(movieObj);\n      }\n\n      localStorage.setItem(\"movies-app\", JSON.stringify(oldData));\n      this.handleFavouritesState();\n    };\n\n    this.handleFavouritesState = () => {\n      let oldData = JSON.parse(localStorage.getItem('movies-app') || '[]');\n      let temp = oldData.map(movie => movie.id);\n      this.setState({\n        favourites: [...temp]\n      });\n    };\n\n    this.state = {\n      hover: \"\",\n      pArr: [1],\n      movies: [],\n      currPage: 1,\n      favourites: []\n    };\n  }\n\n  async componentDidMount() {\n    console.log(\"Component Did Mount\");\n    const res = await axios.get('https://api.themoviedb.org/3/movie/popular?api_key=11b4db041bf33bf9932e58398b21c951&language=en-US&page=1');\n    console.log(res.data);\n    this.setState({\n      movies: [...res.data.results]\n    });\n  }\n\n  render() {\n    // let moviesArr = movies.results\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"header\",\n        id: \"pageOne\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          class: \"heading\",\n          children: [\"All Trending & Best  \", /*#__PURE__*/_jsxDEV(\"span\", {\n            class: \"highlight\",\n            children: \"Too Complicated\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 58\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \" With Skimmy\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"movies-list\",\n        children: this.state.movies.map(movieEle => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card movie-card\",\n          onMouseEnter: () => this.setState({\n            hover: movieEle.id\n          }),\n          onMouseLeave: () => this.setState({\n            hover: \"\"\n          }),\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: `https://image.tmdb.org/t/p/original${movieEle.backdrop_path}`,\n            style: {\n              height: '40vh',\n              width: '20vw'\n            },\n            className: \"card-img-top movie-img\",\n            alt: \"...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n            className: \"card-title movie-title\",\n            children: movieEle.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              justifyContent: \"center\"\n            },\n            children: this.state.hover == movieEle.id && /*#__PURE__*/_jsxDEV(\"a\", {\n              type: \"button\",\n              className: \"btn btn-primary movies-button\",\n              onClick: () => this.handleFavourites(movieEle),\n              children: this.state.favourites.includes(movieEle.id) ? \"Remove from Favourites\" : \"Add to Favourites\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 25\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"flex\",\n          justifyContent: \"center\"\n        },\n        children: /*#__PURE__*/_jsxDEV(\"nav\", {\n          \"aria-label\": \"Page navigation example\",\n          children: /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"pagination\",\n            children: [/*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"page-item\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"page-link\",\n                onClick: this.handlePrevious,\n                children: \"Previous\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 110,\n                columnNumber: 51\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 25\n            }, this), this.state.pArr.map(ele => /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"page-item\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"page-link\",\n                onClick: () => this.handlePageClick(ele),\n                children: ele\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 112,\n                columnNumber: 56\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 112,\n              columnNumber: 29\n            }, this)), /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"page-item\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"page-link\",\n                onClick: this.handleNext,\n                children: \"Next\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 115,\n                columnNumber: 51\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true);\n  }\n\n}\n\nexport default MovieList;","map":{"version":3,"names":["Component","axios","MovieList","constructor","changeMovies","res","get","state","currPage","console","log","data","setState","movies","results","handleNext","pArr","length","handlePrevious","handlePageClick","ele","handleFavourites","movieObj","oldData","JSON","parse","localStorage","getItem","favourites","includes","id","filter","movie","push","setItem","stringify","handleFavouritesState","temp","map","hover","componentDidMount","render","movieEle","backdrop_path","height","width","title","display","justifyContent"],"sources":["/Users/anujjha/Desktop/React/ReactJs/MoviesApp/src/component/MovieList.js"],"sourcesContent":["import { Component } from \"react\";\n// import {movies} from \"../movieData\";\nimport axios from 'axios';\n\nclass MovieList extends Component{\n\n    constructor(){\n        super();\n        this.state={\n            hover:\"\",\n            pArr:[1],\n            movies:[],\n            currPage:1,\n            favourites:[]\n        };\n    }\n\n    async componentDidMount(){\n        console.log(\"Component Did Mount\");\n        const res = await axios.get('https://api.themoviedb.org/3/movie/popular?api_key=11b4db041bf33bf9932e58398b21c951&language=en-US&page=1')\n        console.log(res.data);\n        this.setState({\n            movies:[...res.data.results]\n        })\n    }\n\n\n    changeMovies = async()=>{\n        const res = await axios.get(`https://api.themoviedb.org/3/movie/popular?api_key=81242a2aa2066e052c78ec9ac1700c59&language=en-US&page=${this.state.currPage}`)\n        console.log(res.data);\n        this.setState({\n            movies:[...res.data.results]\n        })\n    }\n\n\n    handleNext=()=>{\n        if(this.state.currPage==this.state.pArr.length){\n            this.setState({\n            \n                    pArr:[...this.state.pArr,this.state.pArr.length+1],\n                    currPage:this.state.currPage+1\n            \n            },this.changeMovies)\n\n        }\n    }\n\n    handlePrevious=()=>{\n        if(this.state.currPage!=1){   //edgecase when currpage=1 not able to do previous calls\n            this.setState({\n                currPage:this.state.currPage-1,\n            },this.changeMovies)\n        }\n        \n    }\n\n    handlePageClick=(ele)=>{\n        if(ele!=this.state.currPage){\n            this.setState({\n                currPage: ele\n            },this.changeMovies);\n        }\n    }\n\n     handleFavourites = (movieObj)=>{\n        let oldData = JSON.parse(localStorage.getItem('movies-app') || '[]')\n        if(this.state.favourites.includes(movieObj.id)){\n            oldData = oldData.filter((movie)=>movie.id!=movieObj.id)\n        }else{\n            oldData.push(movieObj)\n        }\n        localStorage.setItem(\"movies-app\",JSON.stringify(oldData));\n        this.handleFavouritesState();\n    }\n\n    handleFavouritesState = ()=>{\n        let oldData = JSON.parse(localStorage.getItem('movies-app')|| '[]')\n        let temp = oldData.map((movie)=>movie.id);\n        this.setState({\n            favourites:[...temp]\n        })\n    }\n    render(){\n        // let moviesArr = movies.results\n        return(\n            <>\n            <div class=\"header\" id=\"pageOne\">\n                <h2 class=\"heading\">All Trending & Best  <span class=\"highlight\">Too Complicated</span></h2>\n                <h2> With Skimmy</h2>\n            </div>\n           \n            <div className=\"movies-list\">\n                    {this.state.movies.map((movieEle) => (\n                        <div className=\"card movie-card\" onMouseEnter={()=>this.setState({hover:movieEle.id})} onMouseLeave={()=>this.setState({hover:\"\"})} >\n                            <img src={`https://image.tmdb.org/t/p/original${movieEle.backdrop_path}`} style={{ height: '40vh', width: '20vw' }} className=\"card-img-top movie-img\" alt=\"...\" />\n                            <h5 className=\"card-title movie-title\">{movieEle.title}</h5>\n                            <div style={{ display: 'flex', justifyContent: \"center\" }}>\n                                {this.state.hover == movieEle.id && (\n                                    <a type=\"button\" className=\"btn btn-primary movies-button\" onClick={()=>this.handleFavourites(movieEle)}>\n                                    {this.state.favourites.includes(movieEle.id)?\"Remove from Favourites\":\"Add to Favourites\"}\n                                </a>)}\n                            </div>\n                        </div>\n                    ))}\n                </div>\n            <div style={{display:\"flex\",justifyContent:\"center\"}}>\n                <nav aria-label=\"Page navigation example\">\n                    <ul className=\"pagination\">\n                        <li className=\"page-item\"><button className=\"page-link\" onClick={this.handlePrevious}>Previous</button></li>\n                        {this.state.pArr.map((ele)=>(\n                            <li className=\"page-item\" ><button className=\"page-link\" onClick={()=>this.handlePageClick(ele)}  >{ele}</button></li>\n                        ))}\n                        \n                        <li className=\"page-item\"><button className=\"page-link\" onClick={this.handleNext}>Next</button></li>\n                    </ul>\n                </nav>\n                </div>\n            </>\n        )\n    }\n}\n\nexport default MovieList"],"mappings":"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"},"metadata":{},"sourceType":"module"}